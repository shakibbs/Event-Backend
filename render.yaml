services:
  - type: web
    name: event-management-backend
    runtime: java
    plan: starter
    
    # Build configuration
    buildCommand: mvn clean package -DskipTests
    startCommand: java -Dserver.port=$PORT -Dspring.datasource.url=$DATABASE_URL -Dspring.datasource.username=$DATABASE_USERNAME -Dspring.datasource.password=$DATABASE_PASSWORD -Dapp.jwt.secret=$JWT_SECRET -jar target/event_management_system-0.0.1-SNAPSHOT.jar
    
    # Environment variables
    envVars:
      - key: DATABASE_URL
        value: jdbc:mysql://shinkansen.proxy.rlwy.net:42753/railway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
      - key: DATABASE_USERNAME
        value: root
      - key: DATABASE_PASSWORD
        value: MiKlXfkqoCVdHaJojqVkcFugowMmJwk6
      - key: JWT_SECRET
        value: your-super-secret-key-minimum-32-characters-change-in-production-12345
    
    # Health check
    healthCheckPath: /swagger-ui.html
    healthCheckInterval: 10

